
### C 语言学习笔记
-----------------------------
<h4>C 编译器</h4> 写在源文件中的源代码是人类可读的源。它需要"编译"，转为机器语言，这样 CPU 可以按给定指令执行程序。C 语言编译器用于把源代码编译成最终的可执行程序
如果您使用的是 Linux 或 UNIX，请在命令行使用下面的命令来检查您的系统上是否安装了 GCC：
`gcc-v`

如果您的计算机上已经安装了 GNU 编译器，则会显示如下消息：
```
Using built-in specs.
Target: i386-redhat-linux
Configured with: ../configure --prefix=/usr .......
Thread model: posix
gcc version 4.1.2 20080704 (Red Hat 4.1.2-46)
```
如果未安装 GCC，那么请按照 http://gcc.gnu.org/install/ 上的详细说明安装 GCC。

### 什么是指针
* C语言中的数组是指一类类型，数组具体区分为 int 类型数组，double类型数组,char数组 等等
* 任何程序数据载入内存后，在内存都有他们的地址，这就是指针
* 而为了保存一个数据在内存中的地址，我们就需要指针变量。
* 因此：指针是程序数据在内存中的地址，而指针变量是用来保存这些地址的变量

#### 内存的数据
内存的数据就是变量的值对应的二进制，一切都是二进制  内存是以二进制处理数据的 


#### C 程序主要包括以下部分

预处理器指令
函数
变量
语句 & 表达式
注释

#### 让我们看一段简单的代码，可以输出单词 "Hello World"：
```
#include <stdio.h>
 
int main()
{
   /* 我的第一个 C 程序 */
   printf("Hello, World! \n");
   
   return 0;
}
```
1.程序的第一行 #include <stdio.h> 是预处理器指令，告诉 C 编译器在实际编译之前要包含 stdio.h 文件。
2.下一行 int main() 是主函数，程序从这里开始执行。 main 是入口  
3.下一行 /*...*/ 将会被编译器忽略，这里放置程序的注释内容。它们被称为程序的注释。
4.下一行 printf(...) 是 C 中另一个可用的函数，会在屏幕上显示消息 "Hello, World!"。    printf 输出
5.下一行 return 0; 终止 main() 函数，并返回值 0。 并一 return 0  结束

#### 编译 & 执行 C 程序
>打开一个文本编辑器，添加上述代码。
>保存文件为 hello.c。
>打开命令提示符，进入到保存文件所在的目录。
>键入 gcc hello.c，输入回车，编译代码。
>如果代码中没有错误，命令提示符会跳到下一行，并生成 a.out 可执行文件。
>现在，键入 a.out 来执行程序。
>您可以看到屏幕上显示 "Hello World"。
```
$ gcc hello.c
$ ./a.out
Hello, World!
```
#### 分号 ;
在 C 程序中，分号是语句结束符。也就是说，每个语句必须以分号结束。它表明一个逻辑实体的结束。

#### 注释
C 语言有两种注释方式     // 单行注释                     /* 单行注释 */   

/* 多行注释

多汗注释

*/

#### 数据类型
|序号|类型与描述|
|:--|:--|
|1|基本类型：它们是算术类型，包括两种类型：整数类型和浮点类型。|
|2|枚举类型：它们也是算术类型，被用来定义在程序中只能赋予其一定的离散整数值的变量|
|3|void 类型：类型说明符 void 表明没有可用的值|
|4|派生类型：它们包括：指针类型、数组类型、结构类型、共用体类型和函数类型。|

整型类型       浮点类型     Void 类型

  #### C 中的变量声明
 **变量的声明有两种情况**
1、一种是需要建立存储空间的。例如：int a 在声明的时候就已经建立了存储空间。
2、另一种是不需要建立存储空间的，通过使用extern关键字声明变量名而不定义它。 例如：extern int a 其中变量 a 可以在别的文件中定义的。
除非有extern关键字，否则都是变量的定义。

```
extern int i;     //声明，不是定义
int i;     //声明，也是定义
```
如果需要在一个源文件中引用另外一个源文件中定义的变量，我们只需在引用的文件中将变量加上   <u>extern</u>   关键字的声明即可。



#### 整整常量
整数常量可以是十进制、八进制或十六进制的常量。前缀指定基数：0x 或 0X 表示十六进制，0 表示八进制，不带前缀则默认表示十进制

整数常量也可以带一个后缀，后缀是 U 和 L 的组合，U 表示无符号整数（unsigned），L 表示长整数（long）。后缀可以是大写，也可以是小写，U 和 L 的顺序任意。



#### 定义常量
在 C 中，有两种简单的定义常量的方式：

使用 #define 预处理器。
使用 const 关键字。
#define 预处理器

const 关键字
您可以使用 const 前缀声明指定类型的常量

请注意，把常量定义为大写字母形式，是一个很好的编程实践。



### C 存储类
存储类定义 C 程序中变量/函数的范围（可见性）和生命周期。这些说明符放置在它们所修饰的类型之前。下面列出 C 程序中可用的存储类
* auto
* register
* static
* extern
|储存类|详解|
|:--|:--|
|auto|存储类是所有局部变量默认的存储类|
|register|存储类用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 '&' 运算符（因为它没有内存位置)|
|static | 存储类指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。 可用于全局变量  局部变量 |
|extern|存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当您使用 extern 时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置|

### 转译 C 语言 并执行
` gcc main.c support.c`   这会产生一个 a.out   的可执行程序      执行 ./ a.out

### C 运算符
运算符是一种告诉编译器执行特定的数学或逻辑操作的符号。C 语言内置了丰富的运算符，并提供了以下类型的运算符
|运算符|描述|
|:--|:--|
|算术运算符| +   -     *    /      %    ++     --|
|关系运算符|  ==       !=        >     <       >=       <=  |
|逻辑运算符|  &&  逻辑与运算符        || 逻辑或运算符        ! 逻辑非运算符|
|位运算符| 位运算符作用于位，并逐位执行操作。&、 丨和 ^  的真值      没看懂啊这里|
| 赋值运算符| =   +=   -=  *=    等等.........|
| 杂项运算符|  sizeof()  放回变量的大小     & 返回变量的地址   * 指向一个变量     ?:  条件表达式|

### 循环类型
|循环类型|描述|
|:--|:--|
|while 循环|当给定条件为真时，重复语句或语句组。它会在执行循环主体之前测试条件|
|for 循环|多次执行一个语句序列，简化管理循环变量的代码|
|do...while 循环| 除了它是在循环主体结尾测试条件外，其他与 while 语句类似。|
|嵌套循环| 您可以在 while、for 或 do..while 循环内使用一个或多个循环。|

###  循环控制语句
|控制循环语句|描述|
|:--|:--|
|break 语句|终止循环或 switch 语句，程序流将继续执行紧接着循环或 switch 的下一条语句。|
|continue 语句| 告诉一个循环体立刻停止本次循环迭代，重新开始下次循环迭代。|
|goto 语句 | 将控制转移到被标记的语句。但是不建议在程序中使用 goto 语句。|
for 循环 不给任何一个判断条件  会变成无限循环       你可以按  Ctrl + C 来终止一个无限循环

###  定义函数
C 语言中的函数定义的一般形式如下
```
return_type function_name( 函数的参数 )
{
   函数体
}
```
在 C 语言中，函数由一个函数头和一个函数主体组成。下面列出一个函数的所有组成部分
* 返回类型：一个函数可以返回一个值。return_type 是函数返回的值的数据类型。有些函数执行所*需的操作而不返回值，在这种情况下，return_type 是关键字 void。

* 函数名称：这是函数的实际名称。函数名和参数列表一起构成了函数签名。

* 参数：参数就像是占位符。当函数被调用时，您向参数传递一个值，这个值被称为实际参数。参数列表包括函数参数的类型、顺序、数量。参数是可选的，也就是说，函数可能不包含参数。

* 函数主体：函数主体包含一组定义函数执行任务的语句

### 函数参数
如果函数要使用参数，则必须声明接受参数值的变量。这些变量称为函数的形式参数。
形式参数就像函数内的其他局部变量，在进入函数时被创建，退出函数时被销毁。

当调用函数时，有两种向函数传递参数的方式
|调用类型|描述|
|:--|:--|
|传值调用|该方法把参数的实际值复制给函数的形式参数。在这种情况下，修改函数内的形式参数不会影响实际参数|
|引用调用|通过指针传递方式，形参为指向实参地址的指针，当对形参的指向操作时，就相当于对实参本身进行的操作|

默认情况下，C 使用传值调用来传递参数。一般来说，这意味着函数内的代码不能改变用于调用函数的实际参数

与传值调用不同，引用调用在函数内改变了 a 和 b 的值，实际上也改变了函数外 a 和 b 的值

` &a`     &a 表示指向 a 的指针，即变量 a 的地址 

### 作用域规则
任何一种编程中，作用域是程序中定义的变量所存在的区域，超过该区域变量就不能被访问。C 语言中有三个地方可以声明变量
* 在函数或块内部的局部变量
* 在所有函数外部的全局变量
* 在形式参数的函数参数定义中 
 函数体内的变量   局部变量      函数体外定义的 变量  全局变量


### 初始化局部变量和全局变量
当局部变量被定义时，系统不会对其初始化，您必须自行对其初始化。定义全局变量时，系统会自动对其初始化
|数据类型|类型名|初始化默认值|
|:--|:--:|:--|
|int|整型(整数)|0|
|char|字符串类型|'\0'|
|float|单精度浮点型 (带小数点的)|0|
|double|双精度浮点型  精度更高的小数点类型|0|
|pointer|指针类型|NULL|
正确地初始化变量是一个良好的编程习惯，否则有时候程序可能会产生意想不到的结果，因为未初始化的变量会导致一些在内存位置中已经可用的垃圾值

### 声明数组
在 C 中要声明一个数组，需要指定元素的类型和元素的数量
`数组类型   数组名   [ 数字个数  ];`
<b>初始化数组</b>
在 C 中，您可以逐个初始化数组，也可以使用一个初始化语句
`数组类型    数组名 [5]  =  {1,2,3,4,5};`
大括号 { } 之间的值的数目不能大于我们在数组声明时在方括号 [ ] 中指定的元素数目。
如果您省略掉了数组的大小，数组的大小则为初始化时元素的个数

### 指针
每一个变量都有一个内存位置，每一个内存位置都定义了可使用连字号（&）运算符访问的地址，它表示了在内存中的一个地址
` %p`      以16进制输出指针内存储的地址 
指针变量的声明 
`  type *var-name;   `    type 是指针的基类型   它必须是一个有效的 C 数据类型，var-name 是指针变量的名称。用来声明指针的星号 * 与乘法中使用的星号是相同的。但是，在这个语句中，星号是用来指定一个变量是指针
```
int    *ip;    /* 一个整型的指针 */
double *dp;    /* 一个 double 型的指针 */
float  *fp;    /* 一个浮点型的指针 */
char   *ch;     /* 一个字符型的指针 */
```
所有实际数据类型，不管是整型、浮点型、字符型，还是其他的数据类型，对应指针的值的类型都是一样的，都是一个代表内存地址的长的十六进制数。
不同数据类型的指针之间唯一的不同是，指针所指向的变量或常量的数据类型不同
